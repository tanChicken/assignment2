{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Enhanced bar chart with negative values and improved visual features.",
    "data": {
      "url": "clean_er.csv"
    },
    "params": [
    {
      "name": "highlight",
      "select": {"type": "point", "on": "pointerover"}
    },
    {"name": "select", "select": "point"}
    ],
    "mark": {
      "type": "bar",
      "tooltip": true,
      "size": 10,
      "stroke": "black",
      "cursor": "pointer"
    },
    "encoding": {
      "x": {
        "field": "Currency",
        "type": "nominal"
        
      },
      "y": {
        "field": "Value",
        "type": "quantitative",
        "axis": {
            "gridColor": {
                "condition": {"test": "datum.value === 0", "value": "black"}
              },
          "title": "Percentage Change",
          "titleFontWeight": "bold",
          "titleFontSize": 14,
          "format": ".1f"
        }
      },
      "color": {
        "condition": {
          "test": "datum.Value < 0",
          "value": "#e45756"  
        },
        "value": "#3e9c35"  
      },
      "fillOpacity": {
      "condition": {"param": "select", "value": 1},
      "value": 0.3
    },
    "strokeWidth": {
      "condition": [
        {
          "param": "select",
          "empty": false,
          "value": 2
        },
        {
          "param": "highlight",
          "empty": false,
          "value": 1
        }
      ],
      "value": 0
      } 
    },
    "title": {
      "text": "Effective Exchange Rate",
      "fontSize": 18,
      "fontWeight": "bold",
      "anchor": "start"
    }
    
  }
  